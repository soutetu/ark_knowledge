/*! jquery.table_sort.js - v0.1.1 */!function(a){var b=function(){function a(a){this.index=null,this.order=1,this.indexes=a}return a.prototype={getOrder:function(a){return this.index===a?this.order:1},updateOrder:function(a){this.index===a?this.order*=-1:(this.index=a,this.order=-1)},getIndex:function(){return this.index},indexCheck:function(a){return-1!==this.indexes.indexOf(a)?!0:!1}},a}();a.fn.tableSort=function(c){var d={indexes:a(this).find("thead").find("th").map(function(){return a(this).index()}).get(),compare:function(){},after:function(){}},e=a.extend(d,c),f=new b(e.indexes),g=a(this),h=function(b,c,d,f){var g=a(b).find("td").eq(f).text(),h=a(c).find("td").eq(f).text();switch(d){case"integer":return g*=1,h*=1,g-h;case"custom":return e.compare(g,h);default:return h>g?-1:g>h?1:0}},i=function(b){a(b).removeClass("sort_column_default"),a(b).removeClass("sort_column_asc"),a(b).removeClass("sort_column_desc")},j=function(b){var c=a(b).index();f.getIndex()===c?-1===f.getOrder(c)?a(b).addClass("sort_column_asc"):a(b).addClass("sort_column_desc"):a(b).addClass("sort_column_default")},k=function(b){a(b).find("thead").find("th").each(function(){f.indexCheck(a(this).index())&&(i(this),j(this))})},l=function(){var b=a(this).data("type"),c=a(this).index(),d=g.find("tbody>tr");d.sort(function(a,d){return h(a,d,b,c)*f.getOrder(c)}),g.find("tbody").empty().append(d),f.updateOrder(c),k(g),e.after(this)};return g.find("thead").find("th").each(function(){f.indexCheck(a(this).index())&&a(this).on("click",l)}),k(g),this},a.fn.tableMove=function(b){var c={after:function(){}},d=a.extend(c,b),e=function(){var b=a(this).closest("tr");b.prev("tr").length&&(b.insertBefore(b.prev("tr")),d.after(b))},f=function(){var b=a(this).closest("tr");b.next("tr").length&&(b.insertAfter(b.next("tr")),d.after(b))};return a(this).find("tbody>tr").find(".up").on("click",e),a(this).find("tbody>tr").find(".down").on("click",f),this}}(jQuery);